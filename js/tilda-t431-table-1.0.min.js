function t431_init(t){var e=document.querySelector("#rec"+t+" .t431 .t431__table");if(e){var r=document.querySelector("#rec"+t+" .t431 .t431__data-part1"),n=document.querySelector("#rec"+t+" .t431 .t431__data-part2"),a=t431__escapeHTML(r&&r.innerHTML||""),l=t431__escapeHTML(n&&n.innerHTML||""),i=e.getAttribute("data-table-width"),c=e.getAttribute("data-target-blank"),o=t431_parseData(a),u=t431_parseData(l),_=t431_parseData(i),s=t431__findMaxRowLengthInTable(o,u),y=t431__setColumnsWidth(_,s,t),f="";o&&(f+=t431__generateTable(o,"th",c,y,s,t)),u&&(f+=t431__generateTable(u,"td",c,y,s,t)),e.insertAdjacentHTML("beforeend",f)}}function t431__findMaxRowLengthInTable(t,e){var r=0,n=0;return t&&(r=t431__findMaxRowLengInArray(t)),e&&(n=t431__findMaxRowLengInArray(e)),n>r?n:r}function t431__escapeHTML(t){var e=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&nbsp;/g," "),r="",n="";["b","i","u","ul","li","ol","br","img","s","sub","sup","span","hr","pre","code","mark","strong","small"].forEach((function(t){n+=":not("+t+")"}));var a=["alt","class","title","id","src","style","width","height","data-replace-key"],l=function t(e){var r=document.implementation.createHTMLDocument("fake");return r.body.innerHTML=e,r.body.childNodes},i;i=l(e)?l(e):[];for(var c=0;c<i.length;c++){var o=i[c];if(o!==n)if(3!==o.nodeType&&8!==o.nodeType){var u=document.createElement(o.tagName);a.forEach((function(t){null!==o.getAttribute(t)&&u.setAttribute(t,o.getAttribute(t).replace(/javascript:/gi,""))})),u.textContent=o.textContent,r+=u.outerHTML}else r+=o.textContent}return r}function t431__findMaxRowLengInArray(t){for(var e=0,r=0;r<t.length;r++)t[r].length>e&&(e=t[r].length);return e}function t431__setColumnsWidth(t,e,r){if(t)return t[0];var n=document.querySelector("#rec"+r+" .t431 .t-container .t-col"),a;return parseFloat(getComputedStyle(n,null).width.replace("px",""))/e+"px"}function t431__generateTable(t,e,r,n,a,l){var i="",c="";i+="<"+(c="td"==e?"tbody":"thead")+' class="t431__'+c+'">';for(var o=0;o<t.length;o++){i+="td"==e?(o+1)%2>0?'<tr class="t431__oddrow">':'<tr class="t431__evenrow">':"<tr>";var u=0;t[o].length<a&&(u=a-t[o].length);for(var _=0;_<t[o].length+u;_++){var s=t[o][_];if(s){var y="";Array.isArray(n)&&n[_]?y=n[_].myText:Array.isArray(n)||(y=n);var f="";if(f="td"==e?'<td class="t431__td t-text" '+(y?'width="'+y+'"':"")+">":'<th class="t431__th t-title" '+(y?'width="'+y+'"':"")+">",s.myHref){var m="",d="",b=r?'target="_blank"':"";if("link"==s.myHrefType)d="</a>",i+=f+(m='<a href="'+s.myHref+'"'+b+">")+s.myText+d+"</"+e+">";else{var h,p=document.querySelector("#rec"+l).querySelector(".t431__btn-template"),T;i+=f+(p?x(p,s,b):g(s,b))+d+"</"+e+">"}}else i+=f+s.myText+"</"+e+">"}else i+="<"+e+' class="t431__'+e+'" '+(y?'width="'+y:"")+'"></'+e+">"}i+="</tr>"}function g(t,e){return'<div class="t431__btnwrapper">\n                    <a href="'+t.myHref+'" '+e+' class="t-btn t-btn_sm">\n                        <table style="width:100%; height:100%">\n                            <tr>\n                                <td>'+t.myText+"</td>\n                            </tr>\n                        </table>\n                    </a>\n                </div>"}function x(t,e,r){var n=document.createElement("div"),a=t.content.cloneNode(!0),l=a.querySelector(".t-btn, .t-btntext"),i=a.querySelector(".t-btnflex__text, .t-btntext__text");return i&&(i.textContent=e.myText),l&&(l.href=e.myHref,r&&l.setAttribute("target","_blank"),n.appendChild(l)),n.innerHTML}return i+="</"+c+">"}function t431_parseData(t){if(""!==t&&void 0!==t){t=t431__addBrTag(t);for(var e=[],r=[],n={myText:"",myHref:"",myHrefType:""},a="",l="",i="",c="",o="",u=0;u<t.length;u++)";"==t[u]&&"&lt;"!=t.slice(u-4,u)&&"&gt;"!=t.slice(u-4,u)&&"&amp;"!=t.slice(u-5,u)&&"&nbsp;"!=t.slice(u-6,u)?(r.push(n),n={myText:"",myHref:""},a="",l="",i="",c=""):("link="==a||" link="==l||"button="==i||" button="==c?(""===n.myHref&&"link="===a?(n.myText=n.myText.slice(0,-5),n.myHrefType="link"):""===n.myHref&&" link="===l?(n.myText=n.myText.slice(0,-6),n.myHrefType="link"):""===n.myHref&&"button="===i?(n.myText=n.myText.slice(0,-7),n.myHrefType="btn"):""===n.myHref&&" button="===c&&(n.myText=n.myText.slice(0,-8),n.myHrefType="btn"),n.myHref+=t[u]):(n.myText+=t[u],a=t431__checkSubstr("link=",a,t[u]),l=t431__checkSubstr(" link=",l,t[u]),i=t431__checkSubstr("button=",i,t[u]),c=t431__checkSubstr(" button=",c,t[u])),"<br />"==(o=t431__checkSubstr("<br />",o,t[u]))&&(n.myHref?n.myHref=n.myHref.slice(0,-6):n.myText=n.myText.slice(0,-6),r.push(n),e.push(r),n={myText:"",myHref:""},a="",l="",i="",c="",r=[]));(r.length>0||""!==n.myText)&&(""!==n&&r.push(n),e.push(r))}return e}function t431__checkSubstr(t,e,r){if(!e&&r==t[0])return r;if(e)for(var n=0;n<t.length-1;n++)if(e[e.length-1]==t[n]&&r==t[n+1])return e+r}function t431__addBrTag(t){var e="";if(t)for(var r=0;r<t.length;r++)"\n"==t[r]||"\r"==t[r]?e+="<br />":e+=t[r];return e.replace(/&nbsp;/g," ")}
